<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DonJu Gourmet ‚Äî Pedidos</title>
  <meta name="description" content="DonJu Gourmet: postres 180 ml por encargo. Cierre 18:00, entrega al d√≠a siguiente. La Florida, Macul, Pe√±alol√©n, Puente Alto, La Granja." />
  <meta name="theme-color" content="#fbf7f2" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">

  <!-- Open Graph -->
  <meta property="og:title" content="DonJu Gourmet ‚Äî Pedidos por WhatsApp" />
  <meta property="og:description" content="Postres 180 ml ¬∑ Cierre 18:00 ¬∑ Entrega al d√≠a siguiente ¬∑ La Florida y alrededores" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://juliohernandezm40-creator.github.io/donju-gourmet/" />
  <meta property="og:image" content="https://juliohernandezm40-creator.github.io/donju-gourmet/logo.jpg" />
  <meta property="og:image:width" content="1024" />
  <meta property="og:image:height" content="1024" />

  <link rel="icon" href="logo.jpg">

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FoodEstablishment",
    "name":"DonJu Gourmet",
    "url":"https://juliohernandezm40-creator.github.io/donju-gourmet/",
    "servesCuisine":"Postres",
    "areaServed":["La Florida","Macul","Pe√±alol√©n","Puente Alto","La Granja"],
    "sameAs":["https://www.instagram.com/donju_gourmet"]
  }
  </script>

  <style>
    :root{
      --bg:#fbf7f2;
      --panel:rgba(255,255,255,.78);
      --stroke:rgba(40,20,10,.10);
      --stroke2:rgba(40,20,10,.16);
      --text:#1b1411;
      --muted:rgba(27,20,17,.68);
      --accent:#7a4d2a;
      --accent2:#2aa6a1;
      --danger:#d94b4b;
      --shadow: 0 18px 45px rgba(30,15,10,.18);
      --r2:22px;
      --max:1020px;

      --gold1: rgba(215,180,106,.55);
      --gold2: rgba(215,180,106,.18);
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(1200px 800px at 10% 0%, rgba(42,166,161,.12) 0%, transparent 60%),
        radial-gradient(1000px 700px at 90% 10%, rgba(122,77,42,.10) 0%, transparent 62%),
        radial-gradient(900px 600px at 40% 110%, rgba(255,120,160,.10) 0%, transparent 55%),
        var(--bg);
      color:var(--text);
    }
    a{color:inherit}
    .wrap{max-width:var(--max); margin:0 auto; padding:22px}

    .topbar{
      position:sticky; top:12px; z-index:50;
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 14px;
      background: rgba(255,255,255,.70);
      border:1px solid var(--stroke);
      border-radius:var(--r2);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      gap:12px;
    }
    .brand{display:flex; align-items:center; gap:12px; min-width:0}
    .logo{
      width:76px;
      height:76px;
      border-radius:20px;
      overflow:hidden;
      flex:0 0 auto;
      background:rgba(255,255,255,.55);
      border:1px solid var(--gold1);
      box-shadow:
        0 14px 30px rgba(30,15,10,.14),
        0 0 0 6px var(--gold2);
    }
    .logo img{width:100%; height:100%; object-fit:cover}
    .brandText{min-width:0}
    .brandText h1{margin:0; font-size:18px; letter-spacing:.3px}
    .brandText small{display:block; color:var(--muted); margin-top:3px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}

    .actions{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}

    .btn{
      border:1px solid var(--stroke2);
      background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.55));
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:900;
      text-decoration:none;
      display:inline-flex; align-items:center; gap:8px;
      transition: transform .06s ease, box-shadow .2s ease;
      user-select:none;
      box-shadow: 0 10px 24px rgba(30,15,10,.08);
    }
    .btn:active{transform:scale(.98)}
    .btn.primary{
      border-color: var(--gold1);
      background:linear-gradient(180deg, rgba(215,180,106,.30), rgba(215,180,106,.12));
      box-shadow: 0 12px 26px rgba(122,77,42,.14);
    }
    .btn.ghost{
      background:transparent;
      border-color: var(--stroke);
      box-shadow:none;
    }

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.60);
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
      box-shadow: 0 10px 22px rgba(30,15,10,.06);
    }

    .hero{
      margin-top:16px;
      padding:18px;
      border-radius:var(--r2);
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.62));
      box-shadow: var(--shadow);
      display:grid;
      gap:14px;
    }
    .hero h2{margin:0; font-size:22px; letter-spacing:.2px}
    .hero p{margin:0; color:var(--muted); line-height:1.45}
    .heroRow{display:flex; gap:10px; flex-wrap:wrap; align-items:center;}

    /* HERO CAROUSEL */
    .heroCarousel{
      display:grid;
      grid-template-columns: 44px 1fr 44px;
      gap:10px;
      align-items:center;
      margin-top:10px;
    }
    .hcBtn{
      height:44px;
      border-radius:14px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.70);
      color:var(--text);
      font-weight:950;
      cursor:pointer;
    }
    .hcFrame{
      position:relative;
      border-radius:18px;
      overflow:hidden;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.70);
      height:200px;
    }
    @media(min-width:740px){ .hcFrame{height:260px} }
    .hcFrame img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .hcCaption{
      position:absolute;
      left:10px; bottom:10px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.40);
      background:rgba(255,255,255,.84);
      color:var(--text);
      font-weight:950;
      font-size:12px;
    }

    .grid{display:grid; gap:16px; margin-top:16px}
    @media(min-width:980px){ .grid.cols2{grid-template-columns: 1.1fr .9fr} }

    .card{
      border-radius:var(--r2);
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.74);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .card h3{margin:0 0 10px 0; font-size:16px}
    .muted{color:var(--muted)}
    .hr{height:1px; background:rgba(40,20,10,.10); margin:14px 0}

    .note{
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(42,166,161,.22);
      background:rgba(42,166,161,.10);
      color:#0e4e4b;
      font-size:13px;
      line-height:1.35;
    }
    .warn{
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(217,75,75,.25);
      background:rgba(217,75,75,.10);
      color:#7a1f1f;
      font-size:13px;
      line-height:1.35;
    }

    .menuList{display:grid; gap:12px}
    .item{
      display:grid;
      grid-template-columns: 72px 1fr auto;
      gap:12px;
      align-items:center;
      padding:12px;
      border-radius:18px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.62);
      box-shadow: 0 10px 22px rgba(30,15,10,.06);
    }
    .thumb{
      width:72px;
      height:72px;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(40,20,10,.10);
      background:rgba(255,255,255,.70);
      position:relative;
    }
    .thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.02);
    }
    .thumb::after{
      content:"";
      position:absolute; inset:0;
      border-radius:18px;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
      pointer-events:none;
    }

    .itemTitle{display:flex; align-items:flex-start; justify-content:space-between; gap:10px}
    .itemTitle strong{font-size:14px}
    .desc{color:var(--muted); font-size:12px; line-height:1.35; margin-top:4px}
    .priceTag{font-weight:950; color:var(--accent); font-size:13px; white-space:nowrap}

    .qty input{
      width:84px;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(40,20,10,.14);
      background:rgba(255,255,255,.70);
      color:var(--text);
      outline:none;
      font-weight:950;
    }

    label{display:block; font-size:12px; color:var(--muted); margin:10px 0 6px}
    input[type="text"], input[type="tel"], select, textarea{
      width:100%;
      padding:11px 12px;
      border-radius:14px;
      border:1px solid rgba(40,20,10,.16);
      background:rgba(255,255,255,.70);
      color:var(--text);
      outline:none;
    }
    textarea{min-height:92px; resize:vertical}
    .row{display:grid; gap:12px}
    @media(min-width:740px){ .row.cols2{grid-template-columns:1fr 1fr} }
    .mini{font-size:12px; color:var(--muted); margin-top:6px}

    #comboBox{display:none}
    #comboFields{display:grid; gap:12px}
    @media(min-width:740px){ #comboFields{grid-template-columns:1fr 1fr} }

    .drawerBackdrop{
      position:fixed; inset:0;
      background:rgba(30,15,10,.35);
      display:none;
      z-index:80;
    }
    .drawer{
      position:fixed;
      top:0; right:0;
      height:100%;
      width:min(420px, 92vw);
      background:rgba(255,255,255,.88);
      border-left:1px solid var(--stroke);
      backdrop-filter: blur(14px);
      box-shadow: -12px 0 45px rgba(30,15,10,.20);
      transform: translateX(100%);
      transition: transform .22s ease;
      z-index:90;
      display:flex;
      flex-direction:column;
      color:var(--text);
    }
    .drawer.open{transform: translateX(0)}
    .drawerHeader{
      padding:14px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      border-bottom:1px solid rgba(40,20,10,.10);
    }
    .drawerBody{padding:14px; overflow:auto}
    .cartLine{
      display:flex; justify-content:space-between; gap:10px;
      padding:10px 0;
      border-bottom:1px dashed rgba(40,20,10,.12);
      color:var(--muted);
      font-size:13px;
    }
    .cartLine b{color:var(--text); font-weight:950}
    .drawerFooter{
      padding:14px;
      border-top:1px solid rgba(40,20,10,.10);
      display:grid; gap:10px;
    }
    .total{
      display:flex; justify-content:space-between; align-items:center;
      font-weight:950;
      color:var(--text);
    }
    .total span:last-child{color:var(--accent)}
    .tiny{font-size:12px; color:var(--muted); line-height:1.35}

    .floatBar{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:14px;
      z-index:70;
      width:min(var(--max), 94vw);
      border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.78);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      padding:10px 12px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .floatBar .left{display:flex; align-items:center; gap:10px; min-width:0}
    .floatBar .left .count{
      width:34px; height:34px; border-radius:999px;
      display:grid; place-items:center;
      border:1px solid var(--gold1);
      background:rgba(215,180,106,.12);
      font-weight:950;
    }
    .floatBar .left .summary{
      min-width:0;
      color:var(--muted);
      font-size:12px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    .toast{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:86px;
      z-index:200;
      display:none;
      max-width:92vw;
      background:rgba(255,255,255,.92);
      border:1px solid rgba(40,20,10,.12);
      border-radius:16px;
      padding:12px 14px;
      box-shadow: var(--shadow);
      color:var(--text);
    }
    .toast b{display:block}
    .toast small{color:var(--muted)}

    footer{padding:26px 0 110px; color:var(--muted); font-size:12px}

    @media(prefers-reduced-motion: reduce){
      *{scroll-behavior:auto}
      .drawer{transition:none}
      .btn{transition:none}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"><img src="logo.jpg" alt="DonJu Gourmet"></div>
        <div class="brandText">
          <h1>DonJu Gourmet</h1>
          <small>Un gusto que enamora ¬∑ Cierre 18:00 ¬∑ Entrega al d√≠a siguiente ¬∑ 180 ml</small>
        </div>
      </div>
      <div class="actions">
        <a class="btn ghost" href="https://www.instagram.com/donju_gourmet" target="_blank" rel="noreferrer">Instagram</a>
        <button class="btn" id="btnOpenCart" type="button">Carrito</button>
        <a class="btn primary" href="#pedido">Pedir</a>
      </div>
    </div>

    <section class="hero">
      <h2>Postres artesanales listos para regalar (o darse un gusto)</h2>
      <p>
        Hechos por encargo para asegurar frescura.
        <b>Cierre 18:00</b> ¬∑ <b>Entrega al d√≠a siguiente</b>.
        Pagas por <b>transferencia</b> o <b>efectivo</b>. Delivery <b>a coordinar</b>.
      </p>
      <div class="heroRow">
        <span class="pill">üìç La Florida ¬∑ Macul ¬∑ Pe√±alol√©n ¬∑ Puente Alto ¬∑ La Granja</span>
        <span class="pill">üßÅ Porci√≥n: 180 ml</span>
        <span class="pill">üéÅ Combos: 3 y 5</span>
      </div>

      <!-- Carrusel -->
      <div class="heroCarousel" aria-label="Galer√≠a de productos">
        <button class="hcBtn" type="button" onclick="hcPrev()">‚Äπ</button>
        <div class="hcFrame">
          <img id="hcImg" src="tiramisu.jpg" alt="Tiramis√∫" loading="eager">
          <div class="hcCaption" id="hcCaption">Tiramis√∫</div>
        </div>
        <button class="hcBtn" type="button" onclick="hcNext()">‚Ä∫</button>
      </div>
    </section>

    <div class="grid cols2">
      <section class="card" id="menu">
        <h3>Men√∫</h3>
        <p class="muted">Elige cantidades. Si compras combo, podr√°s elegir sabores abajo.</p>
        <div class="menuList" id="menuList"></div>

        <div class="hr"></div>

        <div id="comboBox">
          <h3>Sabores del combo</h3>
          <p class="muted" style="margin-top:-6px;">Puedes repetir sabores. Si lo dejas en blanco, lo coordinamos por WhatsApp.</p>
          <div id="comboFields"></div>
        </div>

        <div class="hr"></div>

        <div class="note">
          Tip r√°pido: si quieres repetir sabores en combo, selecciona el mismo sabor varias veces ‚úÖ
        </div>
      </section>

      <section class="card">
        <h3>Resumen en vivo</h3>
        <p class="muted" style="margin-top:-6px;">Tu carrito se guarda autom√°ticamente (si cierras el navegador, no se pierde).</p>
        <div id="liveSummary" class="muted"></div>

        <div class="hr"></div>

        <h3>FAQ r√°pido</h3>
        <p class="muted"><b>¬øTama√±o?</b> Vasos de 180 ml.</p>
        <p class="muted"><b>¬øCu√°ndo entregan?</b> Cierre 18:00 y entrega al d√≠a siguiente (horario a coordinar).</p>
        <p class="muted"><b>¬øTransferencia?</b> Los datos se env√≠an por WhatsApp al confirmar.</p>
        <p class="muted"><b>Conservaci√≥n:</b> Refrigerado. Ideal 48‚Äì72 horas.</p>

        <div class="hr"></div>

        <div class="note">
          Pagos: transferencia o efectivo ¬∑ Delivery: a coordinar seg√∫n direcci√≥n
        </div>
      </section>
    </div>

    <div style="height:16px"></div>

    <section class="card" id="pedido">
      <h3>Datos del pedido</h3>
      <p class="muted">Al final se abrir√° WhatsApp con el pedido armado. Si tu navegador bloquea la ventana, podr√°s <b>copiar</b> el pedido.</p>

      <div class="row cols2">
        <div>
          <label>Nombre</label>
          <input id="nombre" type="text" placeholder="Ej: Camila" autocomplete="name" />
        </div>
        <div>
          <label>Tel√©fono (opcional)</label>
          <input id="telefono" type="tel" placeholder="Ej: +56 9 1234 5678" autocomplete="tel" />
        </div>
      </div>

      <div class="row cols2">
        <div>
          <label>Comuna</label>
          <select id="comuna">
            <option>La Florida</option>
            <option>Macul</option>
            <option>Pe√±alol√©n</option>
            <option>Puente Alto</option>
            <option>La Granja</option>
          </select>
        </div>
        <div>
          <label>M√©todo de entrega</label>
          <select id="entrega">
            <option>Delivery (a coordinar)</option>
            <option>Retiro (a coordinar)</option>
          </select>
          <div class="mini" id="entregaHint"></div>
        </div>
      </div>

      <div class="row cols2">
        <div>
          <label>D√≠a de entrega (d√≠a siguiente al cierre 18:00)</label>
          <input id="dia" type="text" placeholder="Ej: Ma√±ana / Mi√©rcoles / 24-02" />
          <div class="mini" id="diaHint"></div>
        </div>
        <div>
          <label>Horario estimado</label>
          <input id="horario" type="text" placeholder="Ej: 18:30 (L-V) / 12:00 (fin de semana)" />
        </div>
      </div>

      <div id="addressBlock">
        <label>Direcci√≥n (si es delivery)</label>
        <input id="direccion" type="text" placeholder="Calle + n√∫mero + depto/casa (si aplica)" autocomplete="street-address" />
      </div>

      <label>Notas (alergias, dedicatoria, etc.)</label>
      <textarea id="notas" placeholder="Ej: sin frutos secos / dedicatoria: 'Feliz cumple' (si pediste combo, puedes detallar aqu√≠ tambi√©n)"></textarea>

      <div class="row cols2" style="align-items:end">
        <div>
          <label>M√©todo de pago</label>
          <select id="pago">
            <option>Transferencia</option>
            <option>Efectivo</option>
          </select>
          <div style="height:10px"></div>
          <div class="warn" id="warnBox" style="display:none"></div>
        </div>
        <div style="display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap">
          <button class="btn ghost" id="btnCopy" type="button">Copiar pedido</button>
          <button class="btn ghost" id="btnClear" type="button">Limpiar</button>
          <button class="btn primary" id="btnSend" type="button">Enviar por WhatsApp</button>
        </div>
      </div>
    </section>

    <footer>
      ¬© <span id="year"></span> DonJu Gourmet ¬∑ Instagram:
      <a href="https://www.instagram.com/donju_gourmet" target="_blank" rel="noreferrer">@donju_gourmet</a>
      ¬∑ WhatsApp: +56 9 5605 9401
    </footer>
  </div>

  <div class="drawerBackdrop" id="drawerBackdrop"></div>
  <aside class="drawer" id="drawer" aria-label="Carrito">
    <div class="drawerHeader">
      <strong>Carrito</strong>
      <button class="btn ghost" id="btnCloseCart" type="button">Cerrar</button>
    </div>
    <div class="drawerBody">
      <div id="cartLines"></div>
      <div class="hr"></div>
      <div class="tiny">
        Combos: si no eliges sabores, se coordina por WhatsApp.<br/>
        Delivery: a coordinar seg√∫n direcci√≥n.
      </div>
    </div>
    <div class="drawerFooter">
      <div class="total">
        <span>Total</span>
        <span id="cartTotal">$0</span>
      </div>
      <button class="btn primary" type="button" onclick="document.getElementById('pedido').scrollIntoView({behavior:'smooth'})">Ir a datos del pedido</button>
    </div>
  </aside>

  <div class="floatBar" id="floatBar">
    <div class="left">
      <div class="count" id="floatCount">0</div>
      <div class="summary" id="floatSummary">Sin productos seleccionados.</div>
    </div>
    <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;">
      <button class="btn" id="btnWhatsAppQuick" type="button">WhatsApp</button>
      <button class="btn primary" id="btnO
